"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9128],{6664:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"middleware/secure","title":"Secure","description":"Secure middleware","source":"@site/docs/middleware/secure.md","sourceDirName":"middleware","slug":"/middleware/secure","permalink":"/docs/middleware/secure","draft":false,"unlisted":false,"editUrl":"https://github.com/labstack/echox/blob/master/website/docs/middleware/secure.md","tags":[],"version":"current","frontMatter":{"description":"Secure middleware"},"sidebar":"docsSidebar","previous":{"title":"Rewrite","permalink":"/docs/middleware/rewrite"},"next":{"title":"Session","permalink":"/docs/middleware/session"}}');var o=n(4848),r=n(8453);const a={description:"Secure middleware"},s="Secure",c={},l=[{value:"Usage",id:"usage",level:2},{value:"Custom Configuration",id:"custom-configuration",level:2},{value:"Usage",id:"usage-1",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Default Configuration",id:"default-configuration",level:3}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"secure",children:"Secure"})}),"\n",(0,o.jsx)(t.p,{children:"Secure middleware provides protection against cross-site scripting (XSS) attack,\ncontent type sniffing, clickjacking, insecure connection and other code injection\nattacks."}),"\n",(0,o.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:"e.Use(middleware.Secure())\n"})}),"\n",(0,o.jsx)(t.h2,{id:"custom-configuration",children:"Custom Configuration"}),"\n",(0,o.jsx)(t.h3,{id:"usage-1",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'e := echo.New()\ne.Use(middleware.SecureWithConfig(middleware.SecureConfig{\n\tXSSProtection:         "",\n\tContentTypeNosniff:    "",\n\tXFrameOptions:         "",\n\tHSTSMaxAge:            3600,\n\tContentSecurityPolicy: "default-src \'self\'",\n}))\n'})}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["Passing empty ",(0,o.jsx)(t.code,{children:"XSSProtection"}),", ",(0,o.jsx)(t.code,{children:"ContentTypeNosniff"}),", ",(0,o.jsx)(t.code,{children:"XFrameOptions"})," or ",(0,o.jsx)(t.code,{children:"ContentSecurityPolicy"}),"\ndisables that protection."]})}),"\n",(0,o.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'type SecureConfig struct {\n\t// Skipper defines a function to skip middleware.\n\tSkipper Skipper\n\n\t// XSSProtection provides protection against cross-site scripting attack (XSS)\n\t// by setting the `X-XSS-Protection` header.\n\t// Optional. Default value "1; mode=block".\n\tXSSProtection string\n\n\t// ContentTypeNosniff provides protection against overriding Content-Type\n\t// header by setting the `X-Content-Type-Options` header.\n\t// Optional. Default value "nosniff".\n\tContentTypeNosniff string\n\n\t// XFrameOptions can be used to indicate whether or not a browser should\n\t// be allowed to render a page in a <frame>, <iframe> or <object> .\n\t// Sites can use this to avoid clickjacking attacks, by ensuring that their\n\t// content is not embedded into other sites.provides protection against\n\t// clickjacking.\n\t// Optional. Default value "SAMEORIGIN".\n\t// Possible values:\n\t// - "SAMEORIGIN" - The page can only be displayed in a frame on the same origin as the page itself.\n\t// - "DENY" - The page cannot be displayed in a frame, regardless of the site attempting to do so.\n\t// - "ALLOW-FROM uri" - The page can only be displayed in a frame on the specified origin.\n\tXFrameOptions string\n\n\t// HSTSMaxAge sets the `Strict-Transport-Security` header to indicate how\n\t// long (in seconds) browsers should remember that this site is only to\n\t// be accessed using HTTPS. This reduces your exposure to some SSL-stripping\n\t// man-in-the-middle (MITM) attacks.\n\t// Optional. Default value 0.\n\tHSTSMaxAge int\n\n\t// HSTSExcludeSubdomains won\'t include subdomains tag in the `Strict Transport Security`\n\t// header, excluding all subdomains from security policy. It has no effect\n\t// unless HSTSMaxAge is set to a non-zero value.\n\t// Optional. Default value false.\n\tHSTSExcludeSubdomains bool\n\n\t// ContentSecurityPolicy sets the `Content-Security-Policy` header providing\n\t// security against cross-site scripting (XSS), clickjacking and other code\n\t// injection attacks resulting from execution of malicious content in the\n\t// trusted web page context.\n\t// Optional. Default value "".\n\tContentSecurityPolicy string\n\n\t// CSPReportOnly would use the `Content-Security-Policy-Report-Only` header instead\n\t// of the `Content-Security-Policy` header. This allows iterative updates of the\n\t// content security policy by only reporting the violations that would\n\t// have occurred instead of blocking the resource.\n\t// Optional. Default value false.\n\tCSPReportOnly bool\n\n\t// HSTSPreloadEnabled will add the preload tag in the `Strict Transport Security`\n\t// header, which enables the domain to be included in the HSTS preload list\n\t// maintained by Chrome (and used by Firefox and Safari): https://hstspreload.org/\n\t// Optional.  Default value false.\n\tHSTSPreloadEnabled bool\n\n\t// ReferrerPolicy sets the `Referrer-Policy` header providing security against\n\t// leaking potentially sensitive request paths to third parties.\n\t// Optional. Default value "".\n\tReferrerPolicy string\n}\n'})}),"\n",(0,o.jsx)(t.h3,{id:"default-configuration",children:"Default Configuration"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'var DefaultSecureConfig = SecureConfig{\n\tSkipper:            DefaultSkipper,\n\tXSSProtection:      "1; mode=block",\n\tContentTypeNosniff: "nosniff",\n\tXFrameOptions:      "SAMEORIGIN",\n\tHSTSPreloadEnabled: false,\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>s});var i=n(6540);const o={},r=i.createContext(o);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);